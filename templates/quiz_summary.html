{% extends "base.html" %}

{% block title %}Quiz Summary{% endblock %}

{% block header %}Quiz Summary{% endblock %}

{% block content %}

<div class="summary-container">
    <div class="score-section">
        <h3>Score</h3>
        <p class="score">{{ score }}/{{ nb_questions }}</p>
        <p class="percentage">{{ (score / nb_questions * 100)|round(1) }}%</p>
    </div>

    <div class="stats-section">
        <h3>Statistics</h3>
        <ul class="stats-list">
            <li>Total Questions: <strong>{{ nb_questions }}</strong></li>
            <li>Correct Answers: <strong>{{ score }}</strong></li>
            <li>Incorrect Answers: <strong>{{ nb_questions - score }}</strong></li>
        </ul>
    </div>

    <div class="word-progress-section">
        <h3>Word Progress</h3>
        <div class="word-progress-list">
            {% for word in word_progress %}
            <div class="word-progress-item {% if word.is_correct %}correct{% else %}incorrect{% endif %}">
                <div class="word-details">
                    <span class="question">{{ word.word }}</span>
                    <span class="answer">{{ word.correct_answer }}</span>
                    {% if not word.is_correct %}
                    <span class="user-answer">Your answer: {{ word.user_answer }}</span>
                    {% endif %}
                </div>
                <div class="word-stats">
                    <span class="success-rate">Success rate: {{ word.success_rate }}%</span>
                    <span class="attempts">Total attempts: {{ word.attempts }}</span>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="navigation">
        <a href="/quiz/{{ group_id }}" class="btn btn-primary">Try Again</a>
        <a href="/" class="btn btn-secondary">Back to Home</a>
    </div>
</div>
{% endblock %}